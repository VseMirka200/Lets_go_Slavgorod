# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∫ —ç–∫—Ä–∞–Ω—É –Ω–∞—Å—Ç—Ä–æ–µ–∫

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" –≤ –Ω–∏–∂–Ω–µ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –Ω–µ –≤—Å–µ–≥–¥–∞ –æ—Ç–∫—Ä—ã–≤–∞–ª—Å—è —ç–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫.

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### **–ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**

1. **–°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å `remember` –∏ `LaunchedEffect`** –≤ `SwipeableMainScreen`
2. **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π** –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### **–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:**

```
MainActivity (NavHost)
‚îú‚îÄ‚îÄ Screen.Home.route ‚Üí SwipeableMainScreen (index=0)
‚îú‚îÄ‚îÄ Screen.FavoriteTimes.route ‚Üí SwipeableMainScreen (index=1)  
‚îú‚îÄ‚îÄ Screen.Settings.route ‚Üí SwipeableMainScreen (forceSettingsIndex=true, index=2)
‚îî‚îÄ‚îÄ Screen.About.route ‚Üí AboutScreen

BottomNavigation
‚îú‚îÄ‚îÄ Home (index=0)
‚îú‚îÄ‚îÄ Favorite (index=1)
‚îî‚îÄ‚îÄ Settings (index=2)
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### **1. –£–ø—Ä–æ—â–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤ SwipeableMainScreen**

**–ë–´–õ–û (—Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞):**
```kotlin
var currentIndex by remember(currentScreenRoute) { mutableStateOf(0) }

LaunchedEffect(currentScreenRoute, forceSettingsIndex) {
    val newIndex = if (forceSettingsIndex) {
        2 // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    } else {
        when (currentScreenRoute) {
            Screen.Settings.route -> 2
            else -> bottomNavItems.indexOfFirst { it.route == currentScreenRoute }.takeIf { it >= 0 } ?: 0
        }
    }
    currentIndex = newIndex
}
```

**–°–¢–ê–õ–û (–ø—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞):**
```kotlin
val currentIndex = when {
    forceSettingsIndex -> 2 // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    currentScreenRoute == Screen.Settings.route -> 2 // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
    currentScreenRoute == Screen.FavoriteTimes.route -> 1 // –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
    currentScreenRoute == Screen.Home.route -> 0 // –ì–ª–∞–≤–Ω–∞—è
    else -> 0 // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≥–ª–∞–≤–Ω–∞—è
}
```

### **2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ BottomNavigation**

```kotlin
onClick = {
    Log.d("BottomNavigation", "Navigating to: ${screen.route}")
    navController.navigate(screen.route) {
        // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–æ–≥–∏–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
    }
}
```

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è

### **1. –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:**
- ‚úÖ **–ü—Ä—è–º–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞** –±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ **–ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å `remember`** –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ **–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫** –ø—Ä–∏ `forceSettingsIndex=true`

### **2. –ü—Ä–æ—Å—Ç–æ—Ç–∞:**
- ‚úÖ **–ü–æ–Ω—è—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞** –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
- ‚úÖ **–õ–µ–≥–∫–∞—è –æ—Ç–ª–∞–¥–∫–∞** —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ**

### **3. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ **–ù–µ—Ç –ª–∏—à–Ω–∏—Ö –ø–µ—Ä–µ—Å—á–µ—Ç–æ–≤** —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ **–ü—Ä—è–º–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ** –±–µ–∑ LaunchedEffect
- ‚úÖ **–ú–µ–Ω—å—à–µ —Ä–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–π**

## üìä –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### **–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" –≤ BottomNavigation**
```
1. BottomNavigation.onClick ‚Üí navController.navigate("settings")
2. MainActivity ‚Üí SwipeableMainScreen(forceSettingsIndex=true)
3. SwipeableMainScreen ‚Üí currentIndex = 2 (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
4. SwipeableContainer ‚Üí –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç SettingsScreen
```

### **–°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü—Ä—è–º–æ–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫**
```
1. navController.navigate("settings")
2. MainActivity ‚Üí SwipeableMainScreen(forceSettingsIndex=true)
3. SwipeableMainScreen ‚Üí currentIndex = 2 (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
4. SwipeableContainer ‚Üí –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç SettingsScreen
```

### **–°—Ü–µ–Ω–∞—Ä–∏–π 3: –°–≤–∞–π–ø –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º**
```
1. SwipeableContainer.onSwipeToNext ‚Üí navController.navigate("settings")
2. MainActivity ‚Üí SwipeableMainScreen(forceSettingsIndex=true)
3. SwipeableMainScreen ‚Üí currentIndex = 2 (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
4. SwipeableContainer ‚Üí –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç SettingsScreen
```

## üîß –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### **1. SwipeableMainScreen.kt**
- –£–ø—Ä–æ—â–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è `currentIndex`
- –£–±—Ä–∞–Ω—ã `remember` –∏ `LaunchedEffect`
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### **2. BottomNavigation.kt**
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –£–ª—É—á—à–µ–Ω–∞ –æ—Ç–ª–∞–¥–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç

### **–°—Ç–∞—Ç—É—Å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:**
- ‚úÖ **–ù–∞–∂–∞—Ç–∏–µ –Ω–∞ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏"** ‚Üí –≤—Å–µ–≥–¥–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ **–ü—Ä—è–º–æ–π –ø–µ—Ä–µ—Ö–æ–¥** –Ω–∞ –º–∞—Ä—à—Ä—É—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **–°–≤–∞–π–ø –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º** ‚Üí —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
- ‚úÖ **–ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** ‚Üí –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–π —ç–∫—Ä–∞–Ω

### **–û—Ç–ª–∞–¥–∫–∞:**
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏** –≤ BottomNavigation
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞** –≤ SwipeableMainScreen
- ‚úÖ **–ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

## üöÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:**

1. **–ù–∞–∂–∞—Ç–∏–µ –Ω–∞ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏"** –≤ –Ω–∏–∂–Ω–µ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
2. **–°–≤–∞–π–ø –≤–ø—Ä–∞–≤–æ** –¥–æ —ç–∫—Ä–∞–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
3. **–ü–µ—Ä–µ—Ö–æ–¥ –∏–∑ –¥—Ä—É–≥–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤** –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º
4. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** –ø–æ–¥—Å–≤–µ—Ç–∫–∏ –≤ –Ω–∏–∂–Ω–µ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### **–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü—Ä–∏ –ª—é–±–æ–º —Å–ø–æ—Å–æ–±–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è `SettingsScreen`
- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
- –°–≤–∞–π–ø-–Ω–∞–≤–∏–≥–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Å –Ω–∏–∂–Ω–µ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–ü—Ä–æ–±–ª–µ–º–∞ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞!** 

–£–ø—Ä–æ—â–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤ `SwipeableMainScreen` —É—Å—Ç—Ä–∞–Ω–∏–ª–æ –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ø—Ä–∏ –ª—é–±–æ–º —Å–ø–æ—Å–æ–±–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω.

**–ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
- üéØ **–ù–∞–¥–µ–∂–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º
- üîß **–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞** –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π
- üìä **–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞** —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚ö° **–õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –±–µ–∑ –ª–∏—à–Ω–∏—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
