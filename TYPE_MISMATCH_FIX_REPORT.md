# üîß –û–¢–ß–ï–¢: –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –û–®–ò–ë–ö–ò –¢–ò–ü–û–í

## üö® –ü–†–û–ë–õ–ï–ú–ê

**–û—à–∏–±–∫–∞:** `Argument type mismatch: actual type is 'kotlin.String?', but 'kotlin.String' was expected.`

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤ - –ø–µ—Ä–µ–¥–∞–≤–∞–ª—Å—è nullable `String?` –≤–º–µ—Å—Ç–æ non-null `String`.

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### **1. üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `isVersionNewer`**

#### **–û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ —Ñ—É–Ω–∫—Ü–∏–∏:**
```kotlin
// –ë–´–õ–û:
private fun isVersionNewer(version1: String, version2: String): Boolean

// –°–¢–ê–õ–û:
private fun isVersionNewer(version1: String?, version2: String?): Boolean
```

#### **–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ null:**
```kotlin
private fun isVersionNewer(version1: String?, version2: String?): Boolean {
    return try {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ null
        if (version1 == null || version2 == null) {
            Log.w(TAG, "–û–¥–Ω–∞ –∏–∑ –≤–µ—Ä—Å–∏–π null: version1=$version1, version2=$version2")
            return false
        }
        
        val parts1 = version1.split(".").map { it.toInt() }
        val parts2 = version2.split(".").map { it.toInt() }
        
        // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞
    } catch (e: Exception) {
        Log.e(TAG, "–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ –≤–µ—Ä—Å–∏–π: $version1 vs $version2", e)
        false
    }
}
```

### **2. üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–ª—É—á–µ–Ω–∏–µ versionName**

#### **–î–æ–±–∞–≤–ª–µ–Ω fallback –¥–ª—è null versionName:**
```kotlin
// –ë–´–õ–û:
val currentVersionName = packageInfo.versionName

// –°–¢–ê–õ–û:
val currentVersionName = packageInfo.versionName ?: "1.0.0" // Fallback –µ—Å–ª–∏ versionName null
```

### **3. üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç –¥–ª—è maxOf**

#### **–î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç:**
```kotlin
import kotlin.math.max
```

#### **–ó–∞–º–µ–Ω–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è:**
```kotlin
// –ë–´–õ–û:
val maxLength = maxOf(parts1.size, parts2.size)

// –°–¢–ê–õ–û:
val maxLength = max(parts1.size, parts2.size)
```

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤:**
- ‚úÖ `isVersionNewer("1.2.0", "1.1.0")` - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å non-null —Å—Ç—Ä–æ–∫–∞–º–∏
- ‚úÖ `isVersionNewer(null, "1.1.0")` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç null
- ‚úÖ `isVersionNewer("1.2.0", null)` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç null
- ‚úÖ `isVersionNewer(null, null)` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç null

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ versionName:**
- ‚úÖ –ï—Å–ª–∏ `packageInfo.versionName` –Ω–µ null - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
- ‚úÖ –ï—Å–ª–∏ `packageInfo.versionName` null - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è fallback "1.0.0"

## üîç –û–¢–õ–ê–î–ö–ê

### **–õ–æ–≥–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:**
```kotlin
Log.d(TAG, "–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: $currentVersionName (–∫–æ–¥: $currentVersionCode)")
Log.w(TAG, "–û–¥–Ω–∞ –∏–∑ –≤–µ—Ä—Å–∏–π null: version1=$version1, version2=$version2")
Log.e(TAG, "–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ –≤–µ—Ä—Å–∏–π: $version1 vs $version2", e)
```

## üöÄ –†–ï–ó–£–õ–¨–¢–ê–¢

### **‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

1. **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ null** - —Ñ—É–Ω–∫—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å nullable —Å—Ç—Ä–æ–∫–∞–º–∏
2. **Fallback –¥–ª—è versionName** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏ –ø—Ä–∏ null versionName
3. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã** - –¥–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç –¥–ª—è `max` —Ñ—É–Ω–∫—Ü–∏–∏
4. **–£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –¥–ª—è null –∑–Ω–∞—á–µ–Ω–∏–π

### **üéØ –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**

- ‚úÖ **–ù–æ—Ä–º–∞–ª—å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏** ‚Üí –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω–æ
- ‚úÖ **Null –≤–µ—Ä—Å–∏–∏** ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `false` —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º –≤ –ª–æ–≥–∞—Ö
- ‚úÖ **–û—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞** ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `false` —Å –æ—à–∏–±–∫–æ–π –≤ –ª–æ–≥–∞—Ö
- ‚úÖ **Fallback –≤–µ—Ä—Å–∏—è** ‚Üí –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è "1.0.0" –µ—Å–ª–∏ versionName null

### **üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è:**

- ‚úÖ **Null safety** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ nullable —Ç–∏–ø–æ–≤
- ‚úÖ **Error handling** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –æ—à–∏–±–æ–∫
- ‚úÖ **Logging** - –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ **Fallback values** - –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

## üéâ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

–û—à–∏–±–∫–∞ —Ç–∏–ø–æ–≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞! –¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å–ª—É—á–∞–∏ —Å –≤–µ—Ä—Å–∏—è–º–∏, –≤–∫–ª—é—á–∞—è null –∑–Ω–∞—á–µ–Ω–∏—è.

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Å–±–æ—Ä–∫–µ –±–µ–∑ –æ—à–∏–±–æ–∫ —Ç–∏–ø–æ–≤!** üöÄ
